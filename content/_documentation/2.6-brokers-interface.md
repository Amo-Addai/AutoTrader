---
title: AutoTrader Broker Interface
permalink: docs/brokers-interface
key: docs-brokers-interface
---

To make the transition from backtesting to live-trading as easy as possible, each broker integrated into AutoTrader 
interfaces with a strategy using a set of common methods. This means that the same strategy can be run with the 
virtual broker or any other broker in live trading without changing a single line of code in your strategy. This 
page provides a general overview of the methods contained within each broker interface module. Of course, the mechanics
behind each method will change depending on the broker, however each method will behave in the same way.


# Methods
The methods of the brokers are described below.




|           Method          | Function                                                                                              |
| :-----------------------: | ----------------------------------------------------------------------------------------------------- |
|         `__init__`        | Initialises virtual broker with attributes.                                                           |
|        `get_price`        | Returns current price data                                                                            |
|       `place_order`       | Recieves order details and moves to `pending_positions` dictionary.                                   |
|       `open_position`     | Opens a position and moves it into `open_positions` dictionary.                                          |
|     `update_positions`    | Iterates through `pending_positions` and `open_positions` dictionaries and updates them based on order details and current price. |
|    `close_position`       | Closes a position and moves it into `closed_positions` dictionary.                                    |
|     `add_funds`           | Adds funds to account.                                                                                |
|    `calculate_margin`     | Calculates margin required to take a position.                                                        |
|        `update_MDD`       | Updates the maximum drawdown of the account.                                                          |



## Utility Functions

Refer to the [Virtual Broker Utility Functions](virtual-utils) for more information.






## Order Handling

*This section is currently in development. Please check back soon!*

`stop_price` always takes precedence over `stop_distance`. That is, if `stop_price` is provided along with a `stop_distance`, 
the stop loss will be set at the price defined by `stop_price`. 

AutoTrader is intelligent when it comes to order types. If your strategy has no stop loss, you do not need to include it in the 
signal dictionary. If you prefer to set a stop loss in terms of distance in pips, you can do that instead. Same goes for take 
profit levels, specify price or distance in pips. The choice is yours.


## Order Types

- Market order
- Limit order
- Stop-limt order

### Stop loss order types

- limit
- trailing
